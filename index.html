<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Music Player — Snowbreeze</title>
<style>
:root{
  --topbar-h:56px;
  --sidebar-w:250px;
  --panel-w:720px;
  --panel-padding:36px;
  --overlay-alpha:0.65;
  --panel-bg: rgba(10,10,10,0.55);
  --panel-bg-strong: rgba(10,10,10,0.75);
  --control-bg: rgba(0,0,0,0.75);
  --muted:#cfcfcf;
  --accent:#1ea7ff;
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{
  width:100%;
  height:100%;
  font-family: "Segoe UI", Roboto, system-ui, -apple-system, Arial, sans-serif;
  background: url('snow.jpg') center/cover no-repeat;
  color:#fff;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
body::before{
  content:"";
  position:fixed;
  inset:0;
  background: rgba(0,0,0,var(--overlay-alpha));
  z-index:0;
  pointer-events:none;
}

.top-bar{
  position:fixed; top:0; left:0;
  height:var(--topbar-h); width:100%;
  display:flex; align-items:center; justify-content:flex-end;
  padding:8px 20px;
  background: rgba(0,0,0,0.45);
  z-index:1002;
}
.menu-btn{
  background:#fff;color:#000;border:0;padding:8px 14px;border-radius:6px;cursor:pointer;font-weight:600;
}

.sidebar{
  position:fixed;
  top:0;
  right: calc(-1 * var(--sidebar-w));
  width:var(--sidebar-w);
  height:100%;
  background: rgba(0,0,0,0.88);
  padding: calc(var(--topbar-h) + 14px) 18px 20px;
  box-shadow: -3px 0 12px rgba(0,0,0,0.6);
  transition: right .28s ease;
  z-index:1003;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
}
body.sidebar-open .sidebar{ right:0; }

.sidebar h2{
  font-size:18px;
  color:#ddd;
  margin-bottom:10px;
  border-bottom:1px solid rgba(255,255,255,0.06);
  padding-bottom:8px;
}
.sidebar .links{ margin-top:8px; }
.sidebar .links a{ display:block; color:#fff; text-decoration:none; font-size:16px; padding:6px 0; }
.sidebar .links a.active{ text-decoration:underline; font-weight:700; }
.sidebar .socials{ margin-top:18px; color:#ddd; }
.sidebar .socials a{ display:block; color:#cfcfcf; text-decoration:none; font-size:15px; margin:6px 0; }
.sidebar .socials a:hover{ color:#fff; }

.app-stage{
  position:relative;
  width:100%;
  height:100vh;
  z-index:1;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: calc(var(--topbar-h) + 24px) 20px;
}

#draggableDiv{
  width:var(--panel-w);
  max-width: calc(100% - 40px);
  border-radius:18px;
  background: var(--panel-bg);
  backdrop-filter: blur(8px);
  padding:var(--panel-padding);
  box-shadow: 0 18px 60px rgba(0,0,0,0.6);
  z-index:1010;
  position: absolute;
  left:50%;
  top:50%;
  transform: translate(-50%,-50%);
  cursor:grab;
  user-select:none;
}

.music-box{ width:100%; display:flex; flex-direction:column; align-items:center; gap:12px; text-align:center; }
.music-box h2{ font-size:26px; font-weight:700; }
.track-info{ color:var(--muted); font-size:15px; max-width:90%; }

.audio-wrap{ width:100%; display:flex; justify-content:center; align-items:center; margin-top:6px; position:relative; z-index:2; }
audio{ width:100%; max-width:100%; border-radius:10px; }

.controls{ display:flex; gap:14px; margin-top:18px; justify-content:center; align-items:center; }
button.ctrl{ background:var(--control-bg); color:#fff; border:0; width:52px; height:52px; border-radius:50%; font-size:18px; cursor:pointer; box-shadow:0 6px 18px rgba(0,0,0,0.45); }
button.play{ min-width:80px; height:44px; border-radius:10px; background:var(--control-bg); color:#fff; font-weight:700; font-size:16px; cursor:pointer; box-shadow:0 6px 18px rgba(0,0,0,0.45); }

@media(min-width:921px){
  #draggableDiv{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); }
}

@media(max-width:920px){
  :root{ --panel-w:720px; }
  body{ overflow-x:auto; overflow-y:auto; }
  .app-stage{ align-items:flex-start; padding: calc(var(--topbar-h)+12px) 12px 60px; min-height:100vh; }
  #draggableDiv{ position:relative; left:50%; transform:translateX(-50%); margin:22px auto; width:var(--panel-w); padding:28px; cursor:default; }
  audio{ width:120%; margin-left:-10%; }
}

@media(max-width:420px){
  #draggableDiv{ width:720px; padding:20px; border-radius:14px; }
  audio{ width:140%; margin-left:-20%; }
}
</style>
</head>
<body>
  <div class="top-bar">
    <button class="menu-btn" id="menuBtn" aria-expanded="false" aria-controls="siteSidebar">☰ Menu</button>
  </div>

  <aside id="siteSidebar" class="sidebar" aria-hidden="true">
    <div>
      <h2>Pages</h2>
      <nav class="links" aria-label="site pages">
        <a href="index.html">Introduction</a>
        <a href="index2.html" class="active">Music Player</a>
      </nav>
    </div>

    <div class="socials" aria-label="social links">
      <h2>My Socials</h2>
      <a href="https://www.roblox.com/users/7483179773/profile" target="_blank" rel="noopener">Roblox</a>
      <a href="https://www.facebook.com/profile.php?id=61578372636163" target="_blank" rel="noopener">Facebook</a>
      <a href="https://github.com/Snowbreezee" target="_blank" rel="noopener">Github</a>
    </div>
  </aside>

  <main class="app-stage" id="appStage" role="main">
    <section id="draggableDiv" aria-label="music panel">
      <div class="music-box">
        <h2>My top 5 songs</h2>
        <div class="track-info" id="trackInfo">Track 1: Nope your too late i already died</div>

        <div class="audio-wrap">
          <audio id="audioPlayer" src="nope.mp3" controls preload="metadata"></audio>
        </div>

        <div class="controls" role="group" aria-label="player controls">
          <button class="ctrl" id="prevBtn" title="Previous">⏮</button>
          <button class="play" id="playBtn" title="Play / Pause">▶</button>
          <button class="ctrl" id="nextBtn" title="Next">⏭</button>
        </div>
      </div>
    </section>
  </main>

<script>
(() => {
  const body = document.body;
  const menuBtn = document.getElementById('menuBtn');
  const sidebar = document.getElementById('siteSidebar');

  menuBtn.addEventListener('click', () => {
    const open = body.classList.toggle('sidebar-open');
    menuBtn.setAttribute('aria-expanded', open ? 'true' : 'false');
    sidebar.setAttribute('aria-hidden', open ? 'false' : 'true');
  });

  const audio = document.getElementById('audioPlayer');
  const playBtn = document.getElementById('playBtn');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const trackInfo = document.getElementById('trackInfo');

  const tracks = [
    {title:"Track 1: Nope your too late i already died", file:"nope.mp3"},
    {title:"Track 2: A stranger I remain", file:"stranger.mp3"},
    {title:"Track 3: Run to the Edge", file:"Run.mp3"},
    {title:"Track 4: Re:Re", file:"rere.mp3"},
    {title:"Track 5: New Horizons", file:"newh.mp3"}
  ];
  let current = 0;
  function loadTrack(i, play=false){
    current = i;
    audio.src = tracks[current].file;
    trackInfo.textContent = tracks[current].title;
    if(play) audio.play().catch(()=>{});
  }
  prevBtn.onclick = () => loadTrack((current-1+tracks.length)%tracks.length, true);
  nextBtn.onclick = () => loadTrack((current+1)%tracks.length, true);
  audio.onended = () => nextBtn.click();
  playBtn.onclick = () => { if(audio.paused) audio.play(); else audio.pause(); };
  audio.onplay = () => playBtn.textContent = '⏸';
  audio.onpause = () => playBtn.textContent = '▶';
  loadTrack(0,false);

  const panel = document.getElementById('draggableDiv');
  function isMobile(){ return window.matchMedia('(max-width:920px)').matches; }
  let dragging = false, startX = 0, startY = 0, startLeft = 0, startTop = 0;

  panel.addEventListener('pointerdown', (e) => {
    if (isMobile()) return;
    if (e.target.closest('button, audio, a')) return;
    dragging = true;
    panel.setPointerCapture?.(e.pointerId);
    panel.style.transition = 'none';
    const rect = panel.getBoundingClientRect();
    startX = e.clientX; startY = e.clientY;
    startLeft = rect.left; startTop = rect.top;
    document.body.style.userSelect = 'none';
  });

  window.addEventListener('pointermove', (e) => {
    if (!dragging) return;
    const dx = e.clientX - startX;
    const dy = e.clientY - startY;
    panel.style.left = (startLeft + dx) + 'px';
    panel.style.top = (startTop + dy) + 'px';
    panel.style.transform = 'none';
    panel.style.position = 'absolute';
  });

  window.addEventListener('pointerup', (e) => {
    if (!dragging) return;
    dragging = false;
    panel.releasePointerCapture?.();
    document.body.style.userSelect = '';
    panel.style.transition = '';
  });

  window.addEventListener('resize', () => {
    if (!isMobile()) {
      panel.style.left = '';
      panel.style.top = '';
      panel.style.position = 'absolute';
      panel.style.transform = 'translate(-50%,-50%)';
      panel.style.left = '50%';
      panel.style.top = '50%';
    } else {
      panel.style.left = '50%';
      panel.style.top = '';
      panel.style.transform = 'translateX(-50%)';
      panel.style.position = 'relative';
    }
  });

  setTimeout(()=>window.dispatchEvent(new Event('resize')),20);
})();
</script>
</body>
</html>
